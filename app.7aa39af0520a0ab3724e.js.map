{"version":3,"file":"app.7aa39af0520a0ab3724e.js","mappings":"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","sources":["webpack://microservices_template/./src/shared/Header/index.js","webpack://microservices_template/./src/shared/Button/index.js","webpack://microservices_template/./src/app/actions.js","webpack://microservices_template/./src/app/index.js","webpack://microservices_template/./src/app/store.js","webpack://microservices_template/./src/app/reducers.js","webpack://microservices_template/./src/modules/index.js","webpack://microservices_template/./src/modules/HelloModule/index.js","webpack://microservices_template/./src/modules/HelloModule/style.module.css?a621","webpack://microservices_template/./src/modules/FormModule/index.js","webpack://microservices_template/./src/modules/FormModule/style.module.css?bca2","webpack://microservices_template/./src/modules/FormModule/components/Input/index.js","webpack://microservices_template/./src/modules/CounterModule/index.js","webpack://microservices_template/./src/modules/CounterModule/style.module.css?0050","webpack://microservices_template/./src/index.js","webpack://microservices_template/./src/service/index.js"],"sourcesContent":["import './style.scss';\n\nexport default (text = '') => {\n  const element = document.createElement('div');\n  element.classList.add('header');\n  element.innerText = text;\n\n  return element;\n};\n","import './style.css';\n\nexport default (text, color, onClick) => {\n  const element = document.createElement('button');\n  element.classList.add('button');\n  element.innerText = text;\n  element.onclick = onClick;\n  element.style.backgroundColor = color;\n\n  return element;\n};\n","export const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\n\nexport const SET_TEXT = 'SET_TEXT';\n","import { counterReducer, inputReducer } from './reducers';\nimport { Store } from './store';\n\nexport const store = new Store({\n  counter: counterReducer,\n  input: inputReducer,\n});\n","export class Store {\n  constructor(reducers, isStorageConnected = true) {\n    this.reducers = reducers;\n\n    const stateFromLocalStorage = JSON.parse(localStorage.getItem('state'));\n    if (isStorageConnected && stateFromLocalStorage) {\n      this.state = stateFromLocalStorage;\n    } else {\n      this.state = this._reduce();\n    }\n\n    this.listeners = [];\n  }\n\n  _reduce(state, action) {\n    return Object.keys(this.reducers).reduce((acc, key) => {\n      acc[key] = this.reducers[key](state && state[key], action);\n      return acc;\n    }, {});\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  dispatch(action) {\n    this.state = this._reduce(this.state, action);\n    localStorage.setItem('state', JSON.stringify(this.state));\n    this.listeners.forEach((listener) => listener());\n  }\n\n  subscribe(listener) {\n    this.listeners.push(listener);\n    return () => {\n      this.listeners = this.listeners.filter((l) => l !== listener);\n    };\n  }\n}\n","import { DECREMENT, INCREMENT, SET_TEXT } from './actions';\n\nexport const counterReducer = (state = { value: 0 }, action = {}) => {\n  switch (action.type) {\n    case INCREMENT:\n      return { ...state, value: state.value + 1 };\n    case DECREMENT:\n      return { ...state, value: state.value - 1 };\n    default:\n      return state;\n  }\n};\n\nexport const inputReducer = (state = { text: 'world' }, action = {}) => {\n  switch (action.type) {\n    case SET_TEXT:\n      return { ...state, text: action.payload.text };\n    default:\n      return state;\n  }\n};\n","import CounterModule from './CounterModule';\nimport FormModule from './FormModule';\nimport HelloModule from './HelloModule';\n\nexport default [HelloModule, FormModule, CounterModule];\n","import Header from '@/shared/Header';\nimport styles from './style.module.css';\nimport { store } from '../../app';\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.hello);\n\n  const headerElement = Header();\n  element.appendChild(headerElement);\n  const updateName = () => {\n    headerElement.innerText = `Hello, ${store.getState().input.text}!`;\n  };\n  store.subscribe(updateName);\n  updateName();\n\n  const clicker = document.createElement('div');\n  clicker.style.fontSize = '26px';\n  clicker.style.marginLeft = '20px';\n  element.appendChild(clicker);\n\n  const updateValue = () => {\n    clicker.innerText = `Clicks: ${store.getState().counter.value}`;\n  };\n  store.subscribe(updateValue);\n  updateValue();\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"uEjBsFIZ\"};","import Header from '@/shared/Header';\nimport styles from './style.module.css';\nimport Input from './components/Input';\nimport { store } from '../../app';\nimport { SET_TEXT } from '../../app/actions';\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.form);\n\n  element.appendChild(Header('Input name'));\n\n  const inputElement = Input();\n  inputElement.value = store.getState().input.text;\n  inputElement.oninput = (event) => {\n    inputElement.value = event.target.value;\n    store.dispatch({ type: SET_TEXT, payload: { text: event.target.value } });\n  };\n  element.appendChild(inputElement);\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"v7Dl3a2f\"};","import './style.css';\n\nexport default () => {\n  const element = document.createElement('input');\n  element.classList.add('input');\n\n  return element;\n};\n","import Header from '@/shared/Header';\nimport Button from '@/shared/Button';\nimport styles from './style.module.css';\nimport { store } from '../../app';\nimport { DECREMENT, INCREMENT } from '../../app/actions';\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.hello);\n\n  element.appendChild(Header('Clicker!'));\n  element.appendChild(\n    Button('Inc', 'green', () => {\n      store.dispatch({ type: INCREMENT });\n    })\n  );\n  element.appendChild(\n    Button('Dec', 'red', () => {\n      store.dispatch({ type: DECREMENT });\n    })\n  );\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"CC9mZH8H\"};","import './normalize.css';\nimport moduleCreators from '@/modules';\nimport { makeServiceWorkers } from './service';\n\nwindow.addEventListener('load', () => {\n  makeServiceWorkers();\n});\n\nconst rootElement = document.getElementById('root');\n\nmoduleCreators.forEach((createModule) => {\n  rootElement.appendChild(createModule());\n});\n","const PUBLIC_SW_PATH = './sw.js';\n\nexport const makeServiceWorkers = async () => {\n  if (navigator.serviceWorker) {\n    try {\n      const response = await navigator.serviceWorker.register(PUBLIC_SW_PATH);\n      console.log('SW register success', response);\n    } catch (error) {\n      console.error('SW register failed:', error);\n    }\n  }\n};\n"],"names":["text","arguments","length","undefined","element","document","createElement","classList","add","innerText","color","onClick","onclick","style","backgroundColor","INCREMENT","DECREMENT","SET_TEXT","store","constructor","reducers","isStorageConnected","this","stateFromLocalStorage","JSON","parse","localStorage","getItem","state","_reduce","listeners","action","Object","keys","reduce","acc","key","getState","dispatch","setItem","stringify","forEach","listener","subscribe","push","filter","l","counter","value","type","input","payload","headerElement","Header","appendChild","updateName","clicker","fontSize","marginLeft","updateValue","inputElement","Input","oninput","event","target","Button","window","addEventListener","async","navigator","serviceWorker","response","register","console","log","error","makeServiceWorkers","rootElement","getElementById","moduleCreators","createModule"],"sourceRoot":""}