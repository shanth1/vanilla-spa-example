{"version":3,"file":"app.cb6c0164128cef7059bc.js","mappings":"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","sources":["webpack://microservices_template/./src/app/service/index.js","webpack://microservices_template/./src/base/Component/index.js","webpack://microservices_template/./src/modules/navigationModule/style.module.css?2789","webpack://microservices_template/./src/app/router/index.js","webpack://microservices_template/./src/modules/navigationModule/index.js","webpack://microservices_template/./src/common/Header/index.js","webpack://microservices_template/./src/app/data/actions.js","webpack://microservices_template/./src/app/data/index.js","webpack://microservices_template/./src/app/data/store.js","webpack://microservices_template/./src/app/data/reducers.js","webpack://microservices_template/./src/common/Button/index.js","webpack://microservices_template/./src/modules/counterModule/index.js","webpack://microservices_template/./src/index.js","webpack://microservices_template/./src/pages/home.js","webpack://microservices_template/./src/modules/helloModule/index.js","webpack://microservices_template/./src/modules/helloModule/style.module.css?2384","webpack://microservices_template/./src/modules/formModule/index.js","webpack://microservices_template/./src/modules/formModule/style.module.css?936f","webpack://microservices_template/./src/modules/formModule/components/Input/index.js","webpack://microservices_template/./src/modules/counterModule/style.module.css?6874","webpack://microservices_template/./src/pages/about.js"],"sourcesContent":["const PUBLIC_SW_PATH = './sw.js';\n\nexport const makeServiceWorkers = async () => {\n  if (navigator.serviceWorker) {\n    try {\n      const response = await navigator.serviceWorker.register(PUBLIC_SW_PATH);\n      console.log('SW register success', response);\n    } catch (error) {\n      console.error('SW register failed:', error);\n    }\n  }\n};\n","export default class {\n  constructor(tagName, attributes = {}) {\n    this._element = document.createElement(tagName);\n    for (const [key, value] of Object.entries(attributes)) {\n      this._element.setAttribute(key, value);\n    }\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  subscribe(store, callback) {\n    store.subscribe(callback);\n    callback();\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"navigation\":\"qEVV8myt\",\"link\":\"CU5kGIWx\",\"active\":\"adV5tGMO\"};","class Router {\n  constructor(pageId = 'page', isHashRouter = true) {\n    !isHashRouter && console.log('url routing is not available now');\n    this.pageId = pageId;\n\n    window.addEventListener('hashchange', (event) => {\n      this._resolve();\n    });\n\n    window.addEventListener('DOMContentLoaded', () => {\n      this._resolve();\n    });\n  }\n\n  initRoutes(routes) {\n    this._routes = routes;\n  }\n\n  initPageContainer(element) {\n    this._pageContainer = element;\n    this._pageContainer.id = 'page-container';\n  }\n\n  _activeClassResolver(eventType, callback) {\n    window.addEventListener(eventType, () => {\n      if (location.hash === '') {\n        callback('#');\n      } else {\n        callback(location.hash);\n      }\n    });\n  }\n\n  updateActiveClass(callback) {\n    this._activeClassResolver('hashchange', callback);\n    this._activeClassResolver('DOMContentLoaded', callback);\n  }\n\n  navigate(url) {\n    location.hash = url;\n  }\n\n  isActive(url) {\n    if (!location.hash && url === '#') {\n      return true;\n    }\n    if (location.hash === url) {\n      return true;\n    }\n    return false;\n  }\n\n  _updatePage(element) {\n    this._pageContainer.innerHTML = '';\n    this._pageContainer.appendChild(element);\n  }\n\n  _resolve() {\n    if (location.hash === '') {\n      const homePage = this._routes['/'];\n      if (homePage) {\n        this._updatePage(homePage);\n      }\n      return;\n    }\n\n    const newPage = this._routes[location.hash.replace('#', '/')];\n    if (newPage) {\n      this._updatePage(newPage);\n    } else {\n      this._pageContainer.innerHTML = '404 | Not Found';\n    }\n  }\n}\n\nexport default new Router();\n","import { Component } from '@/base';\nimport style from './style.module.css';\nimport router from '@/app/router';\n\nconst createLink = (text, path) => {\n  const link = document.createElement('a');\n  link.innerText = text;\n  link.href = path;\n  link.classList.add(style.link);\n  link.onclick = (event) => {\n    event.preventDefault();\n    router.navigate(path);\n  };\n\n  router.updateActiveClass((locationHash) => {\n    if (locationHash === path) {\n      link.classList.add(style.active);\n    } else {\n      link.classList.remove(style.active);\n    }\n  });\n\n  return link;\n};\n\nexport default () => {\n  const navigation = new Component('nav').element;\n\n  navigation.classList.add(style.navigation);\n\n  navigation.appendChild(createLink('Home', '#'));\n  navigation.appendChild(createLink('About', '#about'));\n\n  return navigation;\n};\n","import { Component } from '@/base';\nimport './style.scss';\n\nexport default class extends Component {\n  constructor(text) {\n    super('div');\n    this._element.innerText = text;\n    this._element.classList.add('header');\n  }\n\n  updateText(text) {\n    this._element.innerText = text;\n  }\n}\n","export const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\n\nexport const SET_TEXT = 'SET_TEXT';\n","import { counterReducer, inputReducer } from './reducers';\nimport { Store } from './store';\n\nexport const store = new Store({\n  counter: counterReducer,\n  input: inputReducer,\n});\n","export class Store {\n  constructor(reducers, isStorageConnected = true) {\n    this._reducers = reducers;\n\n    const stateFromLocalStorage = JSON.parse(localStorage.getItem('state'));\n    if (isStorageConnected && stateFromLocalStorage) {\n      this._state = stateFromLocalStorage;\n    } else {\n      this._state = this._reduce();\n    }\n\n    this._listeners = [];\n  }\n\n  _reduce(state, action) {\n    return Object.keys(this._reducers).reduce((acc, key) => {\n      acc[key] = this._reducers[key](state && state[key], action);\n      return acc;\n    }, {});\n  }\n\n  getState() {\n    return this._state;\n  }\n\n  dispatch(action) {\n    this._state = this._reduce(this._state, action);\n    localStorage.setItem('state', JSON.stringify(this._state));\n    this._listeners.forEach((listener) => listener());\n  }\n\n  subscribe(listener) {\n    this._listeners.push(listener);\n    return () => {\n      this._listeners = this._listeners.filter((l) => l !== listener);\n    };\n  }\n}\n","import { DECREMENT, INCREMENT, SET_TEXT } from './actions';\n\nexport const counterReducer = (state = { value: 0 }, action = {}) => {\n  switch (action.type) {\n    case INCREMENT:\n      return { ...state, value: state.value + 1 };\n    case DECREMENT:\n      return { ...state, value: state.value - 1 };\n    default:\n      return state;\n  }\n};\n\nexport const inputReducer = (state = { text: 'world' }, action = {}) => {\n  switch (action.type) {\n    case SET_TEXT:\n      return { ...state, text: action.payload.text };\n    default:\n      return state;\n  }\n};\n","import './style.css';\nimport { Component } from '@/base';\n\nexport default class extends Component {\n  constructor(text, color, onClick) {\n    super('button');\n    this._element.innerText = text;\n    this._element.classList.add('button');\n    this._element.style.backgroundColor = color;\n    this._element.onclick = onClick;\n  }\n}\n","import Header from '@/common/Header';\nimport Button from '@/common/Button';\nimport styles from './style.module.css';\nimport { store } from '@/app/data';\nimport { DECREMENT, INCREMENT } from '@/app/data/actions';\n\nconst incrementButton = new Button('Inc', 'green', () => {\n  store.dispatch({ type: INCREMENT });\n}).element;\n\nconst decrementButton = new Button('Dec', 'red', () => {\n  store.dispatch({ type: DECREMENT });\n}).element;\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.hello);\n\n  element.appendChild(new Header('Clicker!').element);\n  element.appendChild(incrementButton);\n  element.appendChild(decrementButton);\n\n  return element;\n};\n","import './app/styles/normalize.css';\nimport { makeServiceWorkers } from './app/service';\nimport { getNavigationModule } from './modules';\nimport { getAboutPage, getHomePage } from './pages';\nimport router from './app/router';\n\nwindow.addEventListener('load', () => {\n  makeServiceWorkers();\n});\n\nconst rootElement = document.getElementById('root');\nconst pageContainer = document.createElement('div');\n\nrouter.initPageContainer(pageContainer);\nrouter.initRoutes({\n  '/': getHomePage(),\n  '/about': getAboutPage(),\n});\n\nrootElement.appendChild(getNavigationModule());\nrootElement.appendChild(pageContainer);\n","import { getCounterModule, getFormModule, getHelloModule } from '../modules';\n\nexport default () => {\n  const page = document.createElement('div');\n\n  page.appendChild(getHelloModule());\n  page.appendChild(getFormModule());\n  page.appendChild(getCounterModule());\n\n  return page;\n};\n","import { Component } from '@/base';\nimport { Header } from '@/common';\nimport { store } from '@/app/data';\nimport styles from './style.module.css';\n\nexport default () => {\n  const element = new Component('div').element;\n  element.classList.add(styles.hello);\n\n  const header = new Header();\n  header.subscribe(store, () => {\n    header.element.innerText = `Hello, ${store.getState().input.text}!`;\n  });\n\n  const clicker = new Component('div');\n  clicker.element.style.fontSize = '26px';\n  clicker.element.style.marginLeft = '20px';\n  clicker.subscribe(store, () => {\n    clicker.element.innerText = `Clicks: ${store.getState().counter.value}`;\n  });\n\n  element.appendChild(header.element);\n  element.appendChild(clicker.element);\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"OnZIjsW_\"};","import { Header } from '@/common';\nimport styles from './style.module.css';\nimport getInput from './components/Input';\nimport { store } from '@/app/data';\nimport { SET_TEXT } from '@/app/data/actions';\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.form);\n\n  element.appendChild(new Header('Input name').element);\n\n  const inputElement = getInput();\n  inputElement.value = store.getState().input.text;\n  inputElement.oninput = (event) => {\n    inputElement.value = event.target.value;\n    store.dispatch({ type: SET_TEXT, payload: { text: event.target.value } });\n  };\n  element.appendChild(inputElement);\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"hZfUyw49\"};","import './style.css';\n\nexport default () => {\n  const element = document.createElement('input');\n  element.classList.add('input');\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"BxdDxWAQ\"};","import { Header } from '@/common';\n\nexport default () => {\n  const page = document.createElement('div');\n  const header = new Header('About page').element;\n\n  page.appendChild(header);\n\n  return page;\n};\n"],"names":["constructor","tagName","attributes","arguments","length","undefined","this","_element","document","createElement","key","value","Object","entries","setAttribute","element","subscribe","store","callback","pageId","console","log","window","addEventListener","event","_resolve","initRoutes","routes","_routes","initPageContainer","_pageContainer","id","_activeClassResolver","eventType","location","hash","updateActiveClass","navigate","url","isActive","_updatePage","innerHTML","appendChild","homePage","newPage","replace","createLink","text","path","link","innerText","href","classList","add","onclick","preventDefault","router","locationHash","style","remove","Component","super","updateText","INCREMENT","DECREMENT","SET_TEXT","reducers","isStorageConnected","_reducers","stateFromLocalStorage","JSON","parse","localStorage","getItem","_state","_reduce","_listeners","state","action","keys","reduce","acc","getState","dispatch","setItem","stringify","forEach","listener","push","filter","l","counter","type","input","payload","color","onClick","backgroundColor","incrementButton","Button","decrementButton","async","navigator","serviceWorker","response","register","error","makeServiceWorkers","rootElement","getElementById","pageContainer","page","header","Header","clicker","fontSize","marginLeft","getHelloModule","inputElement","getInput","oninput","target","getFormModule","getCounterModule","getHomePage","getAboutPage","navigation","getNavigationModule"],"sourceRoot":""}