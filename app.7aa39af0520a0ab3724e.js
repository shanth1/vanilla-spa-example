(()=>{"use strict";const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.createElement("div");return t.classList.add("header"),t.innerText=e,t},t=(e,t,s)=>{const n=document.createElement("button");return n.classList.add("button"),n.innerText=e,n.onclick=s,n.style.backgroundColor=t,n},s="INCREMENT",n="DECREMENT",r="SET_TEXT",i=new class{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.reducers=e;const s=JSON.parse(localStorage.getItem("state"));this.state=t&&s?s:this._reduce(),this.listeners=[]}_reduce(e,t){return Object.keys(this.reducers).reduce(((s,n)=>(s[n]=this.reducers[n](e&&e[n],t),s)),{})}getState(){return this.state}dispatch(e){this.state=this._reduce(this.state,e),localStorage.setItem("state",JSON.stringify(this.state)),this.listeners.forEach((e=>e()))}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}}}({counter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0};switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case s:return{...e,value:e.value+1};case n:return{...e,value:e.value-1};default:return e}},input:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"world"},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type===r?{...e,text:t.payload.text}:e}}),a=[()=>{const t=document.createElement("div");t.classList.add("uEjBsFIZ");const s=e();t.appendChild(s);const n=()=>{s.innerText=`Hello, ${i.getState().input.text}!`};i.subscribe(n),n();const r=document.createElement("div");r.style.fontSize="26px",r.style.marginLeft="20px",t.appendChild(r);const a=()=>{r.innerText=`Clicks: ${i.getState().counter.value}`};return i.subscribe(a),a(),t},()=>{const t=document.createElement("div");t.classList.add("v7Dl3a2f"),t.appendChild(e("Input name"));const s=(()=>{const e=document.createElement("input");return e.classList.add("input"),e})();return s.value=i.getState().input.text,s.oninput=e=>{s.value=e.target.value,i.dispatch({type:r,payload:{text:e.target.value}})},t.appendChild(s),t},()=>{const r=document.createElement("div");return r.classList.add("CC9mZH8H"),r.appendChild(e("Clicker!")),r.appendChild(t("Inc","green",(()=>{i.dispatch({type:s})}))),r.appendChild(t("Dec","red",(()=>{i.dispatch({type:n})}))),r}];window.addEventListener("load",(()=>{(async()=>{if(navigator.serviceWorker)try{const e=await navigator.serviceWorker.register("./sw.js");console.log("SW register success",e)}catch(e){console.error("SW register failed:",e)}})()}));const c=document.getElementById("root");a.forEach((e=>{c.appendChild(e())}))})();
//# sourceMappingURL=app.7aa39af0520a0ab3724e.js.map