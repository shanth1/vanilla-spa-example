{"version":3,"file":"app.80a3d46453198fc874f6.js","mappings":"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","sources":["webpack://microservices_template/./src/app/service/index.js","webpack://microservices_template/./src/base/Component/index.js","webpack://microservices_template/./src/modules/navigationModule/index.js","webpack://microservices_template/./src/common/Header/index.js","webpack://microservices_template/./src/app/data/actions.js","webpack://microservices_template/./src/app/data/index.js","webpack://microservices_template/./src/app/data/store.js","webpack://microservices_template/./src/app/data/reducers.js","webpack://microservices_template/./src/common/Button/index.js","webpack://microservices_template/./src/modules/counterModule/index.js","webpack://microservices_template/./src/app/router/index.js","webpack://microservices_template/./src/index.js","webpack://microservices_template/./src/pages/home.js","webpack://microservices_template/./src/modules/helloModule/index.js","webpack://microservices_template/./src/modules/helloModule/style.module.css?2384","webpack://microservices_template/./src/modules/formModule/index.js","webpack://microservices_template/./src/modules/formModule/style.module.css?936f","webpack://microservices_template/./src/modules/formModule/components/Input/index.js","webpack://microservices_template/./src/modules/counterModule/style.module.css?6874"],"sourcesContent":["const PUBLIC_SW_PATH = './sw.js';\n\nexport const makeServiceWorkers = async () => {\n  if (navigator.serviceWorker) {\n    try {\n      const response = await navigator.serviceWorker.register(PUBLIC_SW_PATH);\n      console.log('SW register success', response);\n    } catch (error) {\n      console.error('SW register failed:', error);\n    }\n  }\n};\n","export default class {\n  constructor(tagName, attributes = {}) {\n    this._element = document.createElement(tagName);\n    for (const [key, value] of Object.entries(attributes)) {\n      this._element.setAttribute(key, value);\n    }\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  subscribe(store, callback) {\n    store.subscribe(callback);\n    callback();\n  }\n}\n","import { Component } from '@/base';\n\nconst createLink = (text, href) => {\n  const link = document.createElement('a');\n  link.innerText = text;\n  link.href = href;\n\n  return link;\n};\n\nexport default () => {\n  const element = new Component('div').element;\n  element.style.height = '30px';\n  element.style.backgroundColor = 'red';\n\n  const navigation = new Component('nav').element;\n  navigation.style.display = 'flex';\n  navigation.style.gap = '10px';\n\n  navigation.appendChild(createLink('Home', '#'));\n  navigation.appendChild(createLink('About', '#about'));\n\n  element.appendChild(navigation);\n\n  return element;\n};\n","import { Component } from '@/base';\nimport './style.scss';\n\nexport default class extends Component {\n  constructor(text) {\n    super('div');\n    this._element.innerText = text;\n    this._element.classList.add('header');\n  }\n\n  updateText(text) {\n    this._element.innerText = text;\n  }\n}\n","export const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\n\nexport const SET_TEXT = 'SET_TEXT';\n","import { counterReducer, inputReducer } from './reducers';\nimport { Store } from './store';\n\nexport const store = new Store({\n  counter: counterReducer,\n  input: inputReducer,\n});\n","export class Store {\n  constructor(reducers, isStorageConnected = true) {\n    this._reducers = reducers;\n\n    const stateFromLocalStorage = JSON.parse(localStorage.getItem('state'));\n    if (isStorageConnected && stateFromLocalStorage) {\n      this._state = stateFromLocalStorage;\n    } else {\n      this._state = this._reduce();\n    }\n\n    this._listeners = [];\n  }\n\n  _reduce(state, action) {\n    return Object.keys(this._reducers).reduce((acc, key) => {\n      acc[key] = this._reducers[key](state && state[key], action);\n      return acc;\n    }, {});\n  }\n\n  getState() {\n    return this._state;\n  }\n\n  dispatch(action) {\n    this._state = this._reduce(this._state, action);\n    localStorage.setItem('state', JSON.stringify(this._state));\n    this._listeners.forEach((listener) => listener());\n  }\n\n  subscribe(listener) {\n    this._listeners.push(listener);\n    return () => {\n      this._listeners = this._listeners.filter((l) => l !== listener);\n    };\n  }\n}\n","import { DECREMENT, INCREMENT, SET_TEXT } from './actions';\n\nexport const counterReducer = (state = { value: 0 }, action = {}) => {\n  switch (action.type) {\n    case INCREMENT:\n      return { ...state, value: state.value + 1 };\n    case DECREMENT:\n      return { ...state, value: state.value - 1 };\n    default:\n      return state;\n  }\n};\n\nexport const inputReducer = (state = { text: 'world' }, action = {}) => {\n  switch (action.type) {\n    case SET_TEXT:\n      return { ...state, text: action.payload.text };\n    default:\n      return state;\n  }\n};\n","import './style.css';\nimport { Component } from '@/base';\n\nexport default class extends Component {\n  constructor(text, color, onClick) {\n    super('button');\n    this._element.innerText = text;\n    this._element.classList.add('button');\n    this._element.style.backgroundColor = color;\n    this._element.onclick = onClick;\n  }\n}\n","import Header from '@/common/Header';\nimport Button from '@/common/Button';\nimport styles from './style.module.css';\nimport { store } from '@/app/data';\nimport { DECREMENT, INCREMENT } from '@/app/data/actions';\n\nconst incrementButton = new Button('Inc', 'green', () => {\n  store.dispatch({ type: INCREMENT });\n}).element;\n\nconst decrementButton = new Button('Dec', 'red', () => {\n  store.dispatch({ type: DECREMENT });\n}).element;\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.hello);\n\n  element.appendChild(new Header('Clicker!').element);\n  element.appendChild(incrementButton);\n  element.appendChild(decrementButton);\n\n  return element;\n};\n","class Router {\n  constructor(pageId = 'page', isHashRouter = true) {\n    !isHashRouter && console.log('url routing is not available now');\n    this.pageId = pageId;\n\n    window.addEventListener('hashchange', (event) => {\n      this._resolve();\n    });\n\n    window.addEventListener('DOMContentLoaded', () => {\n      this._resolve();\n    });\n  }\n\n  initRoutes(routes) {\n    this._routes = routes;\n  }\n\n  initPageContainer(element) {\n    this._pageContainer = element;\n    this._pageContainer.id = 'page-container';\n  }\n\n  _resolve() {\n    if (location.hash === '') {\n      this._pageContainer.innerHTML = '';\n      this._pageContainer.appendChild(this._routes['/']);\n\n      return;\n    }\n\n    this._pageContainer.innerHTML = '404 | Not Found';\n  }\n}\n\nexport default new Router();\n","import './app/styles/normalize.css';\nimport { makeServiceWorkers } from './app/service';\nimport { getNavigationModule } from './modules';\nimport { getHomePage } from './pages';\nimport router from './app/router';\n\nwindow.addEventListener('load', () => {\n  makeServiceWorkers();\n});\n\nconst rootElement = document.getElementById('root');\nconst pageContainer = document.createElement('div');\n\nrouter.initPageContainer(pageContainer);\nrouter.initRoutes({\n  '/': getHomePage(),\n});\n\nrootElement.appendChild(getNavigationModule());\nrootElement.appendChild(pageContainer);\n","import { getCounterModule, getFormModule, getHelloModule } from '../modules';\n\nexport default () => {\n  const page = document.createElement('div');\n\n  page.appendChild(getHelloModule());\n  page.appendChild(getFormModule());\n  page.appendChild(getCounterModule());\n\n  return page;\n};\n","import { Component } from '@/base';\nimport { Header } from '@/common';\nimport { store } from '@/app/data';\nimport styles from './style.module.css';\n\nexport default () => {\n  const element = new Component('div').element;\n  element.classList.add(styles.hello);\n\n  const header = new Header();\n  header.subscribe(store, () => {\n    header.element.innerText = `Hello, ${store.getState().input.text}!`;\n  });\n\n  const clicker = new Component('div');\n  clicker.element.style.fontSize = '26px';\n  clicker.element.style.marginLeft = '20px';\n  clicker.subscribe(store, () => {\n    clicker.element.innerText = `Clicks: ${store.getState().counter.value}`;\n  });\n\n  element.appendChild(header.element);\n  element.appendChild(clicker.element);\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"OnZIjsW_\"};","import { Header } from '@/common';\nimport styles from './style.module.css';\nimport getInput from './components/Input';\nimport { store } from '@/app/data';\nimport { SET_TEXT } from '@/app/data/actions';\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.form);\n\n  element.appendChild(new Header('Input name').element);\n\n  const inputElement = getInput();\n  inputElement.value = store.getState().input.text;\n  inputElement.oninput = (event) => {\n    inputElement.value = event.target.value;\n    store.dispatch({ type: SET_TEXT, payload: { text: event.target.value } });\n  };\n  element.appendChild(inputElement);\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"hZfUyw49\"};","import './style.css';\n\nexport default () => {\n  const element = document.createElement('input');\n  element.classList.add('input');\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hello\":\"BxdDxWAQ\"};"],"names":["constructor","tagName","attributes","arguments","length","undefined","this","_element","document","createElement","key","value","Object","entries","setAttribute","element","subscribe","store","callback","createLink","text","href","link","innerText","Component","super","classList","add","updateText","INCREMENT","DECREMENT","SET_TEXT","reducers","isStorageConnected","_reducers","stateFromLocalStorage","JSON","parse","localStorage","getItem","_state","_reduce","_listeners","state","action","keys","reduce","acc","getState","dispatch","setItem","stringify","forEach","listener","push","filter","l","counter","type","input","payload","color","onClick","style","backgroundColor","onclick","incrementButton","Button","decrementButton","pageId","console","log","window","addEventListener","event","_resolve","initRoutes","routes","_routes","initPageContainer","_pageContainer","id","location","hash","innerHTML","appendChild","async","navigator","serviceWorker","response","register","error","makeServiceWorkers","rootElement","getElementById","pageContainer","router","page","header","Header","clicker","fontSize","marginLeft","getHelloModule","inputElement","getInput","oninput","target","getFormModule","getCounterModule","getHomePage","height","navigation","display","gap","getNavigationModule"],"sourceRoot":""}